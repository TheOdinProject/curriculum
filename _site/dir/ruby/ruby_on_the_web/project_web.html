<!DOCTYPE html>
<html>

  

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Theodinproject.github.io : Curriculum" />

    <script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
    <link href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" rel="stylesheet">
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
    <!-- <link rel="stylesheet" type="text/css" media="screen" href="/stylesheets/stylesheet.css"> -->
    <link rel="stylesheet" type="text/css" media="screen" href="http://theodinproject.github.io/curriculum/stylesheets/application.css">



    <title>The Odin Project Curriculum</title>
  </head>

  <body>

    <div class="navbar navbar-fixed-top" id="top-navbar">
  <div class="container">
    <div class="brand-box">
  <a href="http://theodinproject.com">
    <img src="http://theodinproject.github.io/curriculum/images/odin_head_silhouette_2_circle_simple_transparent_darker.gif" class="logo-img" >
    <span class="logo-text">
      The Odin Project
    </span>
  </a>
</div>
    <div class="navbar-collapse collapse">
      <ul class="nav pull-right navbar-nav nav-links">
        <li class="top-link"><a href="http://1000hours.io">Blog</a></li>
        <li class="top-link"><a href="http://curriculum.theodinproject.com">Curriculum</a></li>
        <li class="top-link"><a href="http://theodinproject.com/forum">Community</a></li>
      </ul>
    </div><!--/.navbar-collapse -->
  </div>
</div>

<style>
  #top-navbar{
    background-color: #fafafa;
    background-image: linear-gradient(to bottom, #fff, #f2f2f2);
    border-bottom-width: 1px;
    border-bottom-color: #d4d4d4;
    box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 10px 0px;
    height: 40px;
    font-weight: 400;
  }
  .nav>li>a{
    float: none;
    padding: 10px 15px 10px;
    color: #777777;
    text-decoration: none;
    text-shadow: 0 1px 0 #ffffff;
  }
  .navbar-collapse{
    height: 40px !important;
  }
  .nav-links .top-link {
    font-size: 16px;
  }
  .nav-links strong{
      font-size: 120%;
  }

  .brand-box {
    font-family: $logo-font;
    float: left;
    display: block;
    margin-left: -20px;
    padding-left: 20px;
    padding-top: 10px;
    padding-bottom: 8px;
    font-weight: 200;
  }
  .brand-box a{
    text-decoration: none;
    font-family: serif;
    font-size: 22px;
    font-weight: 200;
    font-variant: small-caps;
    letter-spacing: 1px;
    color: #777777;
    text-shadow: 0 1px 0 #ffffff;
  }
  .logo-text{
  }
  .logo-img{
    width: 30px;
    height: 30px;
    margin-top: -9px;
    margin-bottom: -4px;
    margin-right: 3px;
  }
  .splash {
    margin-left: 20px;
  }
  .splash a{
    color: #b0b0b0;
    text-shadow: none;
  }    

</style>

    <div class="container">

      <!-- HEADER -->
<div id="header_wrap" class="outer">
    <header class="inner">
      <a id="forkme_banner" href="https://github.com/theodinproject/curriculum">View on GitHub</a>
      <div class="social">

  <div class="facebook social-button">
    <iframe src="//www.facebook.com/plugins/like.php?href=http%3A%2F%2Fwww.theodinproject.com&amp;width=75&amp;height=21&amp;colorscheme=light&amp;layout=button_count&amp;action=like&amp;show_faces=false&amp;send=false" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:75px; height:21px;" allowTransparency="true" id="fb-like"></iframe>
  </div>

  <div class="twitter social-button">
    <a href="https://twitter.com/share" class="twitter-share-button" data-text="Check out http://www.TheOdinProject.com, an open-source site built to empower aspiring developers to learn together! @theodinproject" data-counturl="http://www.theodinproject.com">Tweet</a>
    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
  </div>

  <div class="google-plus social-button">
    <!-- Place this tag where you want the +1 button to render. -->
    <div class="g-plusone" data-href="http://www.theodinproject.com"></div>

    <!-- Place this tag after the last +1 button tag. -->
    <script type="text/javascript">
      (function() {
        var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
        po.src = 'https://apis.google.com/js/plusone.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
      })();
    </script>
  </div>
</div>

      <h1 id="project_title">Curriculum</h1>
      <h2 id="project_tagline">The Open Curriculum for Learning Web Development</h2>

    </header>
    <hr>
</div>
      <div class="row">
        <div class="col-md-4" id="sidebar">
          <h2>Roadmap</h2>

<ol id="navigation-list">
  <li>
    <a href="http://theodinproject.github.io/curriculum/dir/">
      Introduction
    </a>
  </li>
  <li>
    <a href="http://theodinproject.github.io/curriculum/dir/getting_started.html">
      Getting Started
    </a>
  </li>
  <li>
    <a href="http://theodinproject.github.io/curriculum/dir/becoming_a_web_developer/">
      About Web Developers  &raquo;
    </a>
    <ol>
      <li>
        <a href="http://theodinproject.github.io/curriculum/dir/becoming_a_web_developer/what_does_a_web_dev_do.html">
          What A Web Developer Does
        </a>
      </li>
      <li>
        <a href="http://theodinproject.github.io/curriculum/dir/becoming_a_web_developer/web_dev_jobs.html">
          Web Development Jobs and Careers
        </a>
      </li>
      <li>
        <a href="http://theodinproject.github.io/curriculum/dir/becoming_a_web_developer/tools_of_the_trade.html">
          Tools of the Trade
        </a>
      </li>
      <li>
        <a href="http://theodinproject.github.io/curriculum/dir/becoming_a_web_developer/web_dev_communities.html">
          Web Development Communities
        </a>
      </li>
      <li>
        <a href="http://theodinproject.github.io/curriculum/dir/becoming_a_web_developer/the_best_web_devs.html">
          The Best Web Developers
        </a>
      </li>
      <li>
        <a href="http://theodinproject.github.io/curriculum/dir/becoming_a_web_developer/getting_a_job.html">
          Getting Hired as a Web Developer
        </a>
      </li>
      <li>
        <a href="http://theodinproject.github.io/curriculum/dir/becoming_a_web_developer/finish.html">
          Finale
        </a>
      </li>
    </ol>
  </li>
  <li>
    <a href="http://theodinproject.github.io/curriculum/dir/installations/">
      Installations
    </a>
  </li>
  <li>
    <a href="http://theodinproject.github.io/curriculum/dir/web_development_basics/">
      Web Development 101  &raquo;
    </a>
    <ol id="web-dev-101-submenu">
      <li>
        <a href="http://theodinproject.github.io/curriculum/dir/web_development_basics/how_does_the_web_work.html">
          How Does the Web Work?
        </a>
      </li>
      <li>
        <a href="http://theodinproject.github.io/curriculum/dir/web_development_basics/how_does_your_computer_work.html">
          How Does Your Computer Work?
        </a>
      </li>
      <li>
        <a href="http://theodinproject.github.io/curriculum/dir/web_development_basics/terms_to_know.html">
          Terms to Know
        </a>
      </li>
      <li>
        <a href="http://theodinproject.github.io/curriculum/dir/web_development_basics/web_programming_basics/">
          Web Programming Basics  &raquo;
        </a>
        <ol>
          <li>
            <a href="http://theodinproject.github.io/curriculum/dir/web_development_basics/web_programming_basics/front_end_basics/">
              Front End Basics  &raquo;
            </a>
            <ol>
              <li>
                <a href="http://theodinproject.github.io/curriculum/dir/web_development_basics/web_programming_basics/front_end_basics/html_css_basics.html">
                  HTML and CSS Basics
                </a>
              </li>
              <li>
                <a href="http://theodinproject.github.io/curriculum/dir/web_development_basics/web_programming_basics/front_end_basics/project_html_css.html" class="project-link">
                  Project: HTML / CSS
                </a>
              </li>
              <li>
                <a href="http://theodinproject.github.io/curriculum/dir/web_development_basics/web_programming_basics/front_end_basics/js_jquery_basics.html">
                  Javascript and jQuery Basics
                </a>
              </li>
              <li>
                <a href="http://theodinproject.github.io/curriculum/dir/web_development_basics/web_programming_basics/front_end_basics/project_js_jquery.html" class="project-link">
                  Project: JS and jQuery
                </a>
              </li>
            </ol>
          </li>
          <li>
            <a href="http://theodinproject.github.io/curriculum/dir/web_development_basics/web_programming_basics/back_end_basics/">
              Back End Basics  &raquo;
            </a>
            <ol>
              <li>
                <a href="http://theodinproject.github.io/curriculum/dir/web_development_basics/web_programming_basics/back_end_basics/ruby_basics.html">
                  Ruby Basics
                </a>
              </li>
              <li>
                <a href="http://theodinproject.github.io/curriculum/dir/web_development_basics/web_programming_basics/back_end_basics/project_ruby.html" class="project-link">
                  Project: Ruby
                </a>
              </li>
            </ol>
          </li>
          <li>
            <a href="http://theodinproject.github.io/curriculum/dir/web_development_basics/web_programming_basics/database_basics.html">
              Databases
            </a>
          </li>
          <li>
            <a href="http://theodinproject.github.io/curriculum/dir/web_development_basics/web_programming_basics/framework_basics/">
              Web Development Frameworks  &raquo;
            </a>
            <ol>
              <li>
                <a href="http://theodinproject.github.io/curriculum/dir/web_development_basics/web_programming_basics/framework_basics/rails_basics.html">
                  Ruby on Rails
                </a>
              </li>
              <li>
                <a href="http://theodinproject.github.io/curriculum/dir/web_development_basics/web_programming_basics/framework_basics/project_rails.html" class="project-link">
                  Project: Ruby on Rails
                </a>
              </li>
              <li>
                <a href="http://theodinproject.github.io/curriculum/dir/web_development_basics/web_programming_basics/framework_basics/backbone_basics.html">
                  Backbone.js
                </a>
              </li>
            </ol>
          </li>
          <li>
            <a href="http://theodinproject.github.io/curriculum/dir/web_development_basics/web_programming_basics/tying_it_all_together.html">
              Tying It All Together
            </a>
          </li>
          <li>
            <a href="http://theodinproject.github.io/curriculum/dir/web_development_basics/web_programming_basics/additional_topics.html">
              Additional Important Topics
            </a>
          </li>
        </ol>
      </li>
      <li>
        <a href="http://theodinproject.github.io/curriculum/dir/web_development_basics/how_are_websites_built.html">
          How are Websites Built?
        </a>
      </li>
      <li>
        <a href="http://theodinproject.github.io/curriculum/dir/web_development_basics/principles_of_good_programming.html">
          Principles of Good Programming
        </a>
      </li>
      <li>
        <a href="http://theodinproject.github.io/curriculum/dir/web_development_basics/faq.html">
          Other "Dumb" Questions Answered
        </a>
      </li>
      <li>
        <a href="http://theodinproject.github.io/curriculum/dir/web_development_basics/finish.html">
          Finish
        </a>
      </li>
    </ol>
  </li>
  <li>
    <a href="http://theodinproject.github.io/curriculum/dir/ruby/">
      Ruby  &raquo;
    </a>
    <ol>
      <li>
        <a href="http://theodinproject.github.io/curriculum/dir/ruby/basic_ruby/">
          Basic Ruby  &raquo;
        </a>
        <ol>
          <li>
            <a href="http://theodinproject.github.io/curriculum/dir/ruby/basic_ruby/building_blocks.html">
              Building Blocks
            </a>
          </li>
          <li>
            <a href="http://theodinproject.github.io/curriculum/dir/ruby/basic_ruby/project_building_blocks.html" class="project-link">
              Project: Building Blocks
            </a>
          </li>
          <li>
            <a href="http://theodinproject.github.io/curriculum/dir/ruby/basic_ruby/advanced_building_blocks.html">
              Advanced Building Blocks
            </a>
          </li>
          <li>
            <a href="http://theodinproject.github.io/curriculum/dir/ruby/basic_ruby/project_advanced_building_blocks.html" class="project-link">
              Project: Advanced Building Blocks
            </a>
          </li>
        </ol>
      </li>
      <li>
        <a href="http://theodinproject.github.io/curriculum/dir/ruby/intermediate_ruby/">
          Intermediate Ruby  &raquo;
        </a>
        <ol>
          <li>
            <a href="http://theodinproject.github.io/curriculum/dir/ruby/intermediate_ruby/oop.html">
              Object Oriented Programming
            </a>
          </li>
          <li>
            <a href="http://theodinproject.github.io/curriculum/dir/ruby/intermediate_ruby/project_oop.html" class="project-link">
              Project: OOP
            </a>
          </li>
          <li>
            <a href="http://theodinproject.github.io/curriculum/dir/ruby/intermediate_ruby/serialization.html">
              File I/O and Serialization
            </a>
          </li>
          <li>
            <a href="http://theodinproject.github.io/curriculum/dir/ruby/intermediate_ruby/project_file_io.html" class="project-link">
              Project: File I/O and Serialization
            </a>
          </li>
        </ol>
      </li>
      <li>
        <a href="http://theodinproject.github.io/curriculum/dir/ruby/ruby_on_the_web/">
          Ruby on the Web  &raquo;
        </a>
        <ol>
          <li>
            <a href="http://theodinproject.github.io/curriculum/dir/ruby/ruby_on_the_web/project_web.html" class="project-link">
              Project: Ruby on the Web
            </a>
          </li>
        </ol>
      </li>
      <li>
        <a href="http://theodinproject.github.io/curriculum/dir/ruby/cs_topics_in_ruby/">
          A Bit of Computer Science  &raquo;
        </a>
        <ol>
          <li>
            <a href="http://theodinproject.github.io/curriculum/dir/ruby/cs_topics_in_ruby/recursion.html">
              Recursion
            </a>
          </li>
          <li>
            <a href="http://theodinproject.github.io/curriculum/dir/ruby/cs_topics_in_ruby/project_recursion.html" class="project-link">
              Project: Recursion
            </a>
          </li>
          <li>
            <a href="http://theodinproject.github.io/curriculum/dir/ruby/cs_topics_in_ruby/data_structures_algorithms.html">
              Data Structures and Algorithms
            </a>
          </li>
          <li>
            <a href="http://theodinproject.github.io/curriculum/dir/ruby/cs_topics_in_ruby/project_data_structures_algorithms.html" class="project-link">
              Project: Data Structures and Algorithms
            </a>
          </li>
        </ol>
      </li>
      <li>
        <a href="http://theodinproject.github.io/curriculum/dir/ruby/testing_ruby/">
          Testing Ruby with RSpec  &raquo;
        </a>
        <ol>
          <li>
            <a href="http://theodinproject.github.io/curriculum/dir/ruby/testing_ruby/project_testing.html" class="project-link">
              Project: Testing Ruby
            </a>
          </li>
        </ol>
      </li>
      <li>
        <a href="http://theodinproject.github.io/curriculum/dir/ruby/project_final.html" class="project-link">
          Ruby Final Project
        </a>
      </li>
      <li>
        <a href="http://theodinproject.github.io/curriculum/dir/ruby/finish.html">
          Finale
        </a>
      </li>
    </ol>
  </li>
  <li>
    <a href="http://theodinproject.github.io/curriculum/dir/git/">
      Git &raquo;
    </a>
    <ol>
      <li>
        <a href="http://theodinproject.github.io/curriculum/dir/git/project_git.html" class="project-link">
          Project: Git Calisthenics
        </a>
      </li>
      <li>
        <a href="http://theodinproject.github.io/curriculum/dir/git/finale.html">
          Finale
        </a>
      </li>
    </ol>
  </li>
  <li>
    <a href="http://theodinproject.github.io/curriculum/dir/databases/">
      Databases &raquo;
    </a>
    <ol>
      <li>
        <a href="http://theodinproject.github.io/curriculum/dir/databases/types_of_databases.html">
          Types of Databases
        </a>
      </li>
      <li>
        <a href="http://theodinproject.github.io/curriculum/dir/databases/project_databases.html"  class="project-link">
          Project: SQL Zoo
        </a>
      </li>
      <li>
        <a href="http://theodinproject.github.io/curriculum/dir/databases/finale.html">
          Finale
        </a>
      </li>     
    </ol>
  </li>
  <li>
    <a href="http://theodinproject.github.io/curriculum/dir/rails/" class="coming-soon">
      Ruby on Rails <em>-- Coming Soon!</em>
    </a>
  </li>
  <li>
    <a href="http://theodinproject.github.io/curriculum/dir/html_css/" class="coming-soon">
      HTML and CSS <em>-- Coming Soon!</em>
    </a>
  </li>
  <li>
    <a href="http://theodinproject.github.io/curriculum/dir/javascript/" class="coming-soon">
      Javascript <em>-- Coming Soon!</em>
    </a>
  </li>
  <li>
    <a href="http://theodinproject.github.io/curriculum/dir/tying_it_all_together/" class="coming-soon">
      Tying It All Together <em>-- Coming Soon!</em>
    </a>
  </li>
  <hr>
  <li>
    <a href="http://theodinproject.github.io/curriculum/dir/mobile/">
      Mobile
    </a>
  </li>
  <hr>
  <li>
    <a href="http://theodinproject.github.io/curriculum/dir/pairing/">
      Pair Programming  &raquo;
    </a>
    <ol>
      <li>
        <a href="http://theodinproject.github.io/curriculum/dir/pairing/why_pair.html">
          Why We Pair
        </a>
      </li>
      <li>
        <a href="http://theodinproject.github.io/curriculum/dir/pairing/how_to_pair.html">
          How To Pair
        </a>
      </li>
      <li>
        <a href="http://theodinproject.github.io/curriculum/dir/pairing/sample_pairing_session.html">
          A Sample Pairing Session
        </a>
      </li>
      <li>
        <a href="http://theodinproject.github.io/curriculum/dir/pairing/finish.html">
          Finale
        </a>
      </li>
    </ol>
  </li>
  <li>
    <a href="http://theodinproject.github.io/curriculum/dir/contributing.html">
      Contributing
    </a>
  </li>
  <li>
    <a href="http://theodinproject.github.io/curriculum/dir/odin.html">
      Odin
    </a>
  </li>
</ol>


<script>

  $(function(){

    // hide all anchor tags in the nav using JS
    // meant so people without JS can still see the full list
    $('#navigation-list').find("ol").addClass("hidden");

    // find the exact anchor element we are currently "at" in the
    // navigation tree, e.g. the "Web Development 101" link.
    var anchorMatch = $("#navigation-list")
      .find("a")
      .filter(function(){
        console.log(window.location.pathname);
        var regex = window.location.pathname + "$";
        // The following was for when /dir/ and / were the "same"
        // if(regex == "/$"){
        //   regex = "^/$";
        // }
        return this.href.match(regex);
      });

    // show parent directories for the currently selected directory
    anchorMatch
      .parents("ol")
      .removeClass("hidden");

    // show the immediate child directory
    anchorMatch
      .siblings("ol")
      .removeClass("hidden");

    // highlight the current directory
    anchorMatch
      .addClass("active");

  });



</script>
<style>
  #sidebar h2{
    margin-top: 20px;
    margin-bottom: 20px;
  }
  .hidden{
    display: hidden;
  }
  .active{
    background-color: yellow;
    font-weight: bold;
  }
  #navigation-list{
    padding-left: 0px;
  }
  #navigation-list li{
    list-style: none;
    line-height: 1.6em;
  }
  #navigation-list ol{
    padding-left: 25px;
  }
</style>














        </div>
        <div class="col-md-7" id="content">
          <div id="main_content_wrap" class="outer">
            <section id="main_content" class="inner project-content">
              <h1>Projects: Ruby on the Web</h1>

<p>Estimated Time: 6-10 hours</p>

<p><em>Don't forget to use Git to save your projects!</em></p>

<h2>Project 1: Twitter Spambot</h2>

<p>You've briefly learned about how to use Ruby to send requests to the web and parse responses.  When you're building real web applications, you'll often want to interface with other applications over the web via their API.</p>

<p>If you're not familiar with APIs, now's your chance.  In this case, Twitter gives you access to a bunch of their commonly used commands (like sending a tweet, accessing your followers, etc) but via your program instead of having to click buttons on their site.  Hence why it's called the Application Programming Interface... your application can programmatically access their system!</p>

<p>When companies make their APIs public, they usually want to limit the amount of spam and abuse so they make you authenticate yourself with each request.  You usually have to register your application with them and they give you a key to use to authenticate your requests.  Sometimes it's as simple as just including that key in the URL string when you make a request, but often these days they want a less hard-coded and more secure way of authenticating you.</p>

<p>The protocol that's commonly used for this is called OAuth.  In this case Twitter uses OAuth, but you'd have to use the same protocol (though perhaps a different version; there are two major versions) if you wanted to interface with Facebook, Instagram, Tumblr, etc. so it's worth getting some experience working with it.  It's not always immediately intuitive but just remember that the basic idea is to make sure the request is coming from someone they have authorized.  If you set up your SSH keys to interface with Github back during the installation phase, it's not terribly different from that idea.</p>

<p>Note that, for this project, you may want to create a throwaway Twitter account (mine is @SpamBot26103678) because you'll probably accidentally go over their data limits or rate limits or other anti-spamming mechanisms and will send out a lot of testing tweets along the way.  No sense getting your main account banned for playing around.</p>

<h3>Your Task</h3>

<ol>
<li><a href="http://tutorials.jumpstartlab.com/projects/microblogger.html">This project/tutorial from Jumpstart Lab</a> takes you through how to authenticate with Twitter and start tweeting.  Don't worry about the last part on Klout.</li>
</ol>


<h2>Student Solutions</h2>

<p><em>Send us your solution so we can show others! Submit a link to the Github repo with your files in it here using any of the methods listed on the <a href="http://theodinproject.github.io/curriculum/dir/contributing.html">contributing page</a>.  Please include your partner's github handle somewhere in the description if they would like attribution.</em></p>

<ul>
<li><em>Your Solution Here!</em></li>
<li></li>
</ul>


<h2>Project 2: A Real Web Server and Browser (from the command line)</h2>

<p>Part of the reason for getting into how Ruby interacts with the web is because it's directly relevant to what you'll be doing later on with Rails.  Rails is just Ruby code neatly packaged and highly opinionated.  Anything Rails does, you can reproduce on your own (given the time) with some Ruby knowledge.</p>

<p>In this case, you'll be building a simple web server that receives requests and sends a response based on those requests.  You'll also create a simple browser client to issue those requests -- then they can talk to each other!  After this project, the web should feel a lot less magical and mysterious for you, just full of interesting challenges.</p>

<p>There are a lot of steps here, and you'll need to draw on some of your previous knowledge of working with files and possibly using some basic regular expressions to parse a string.</p>

<h3>Background Reading</h3>

<p>From the <a href="http://www.scribd.com/doc/20755982/The-Ruby-1-9-x-Web-Servers-Booklet">Ruby 1.9.x Web Servers Booklet</a>:</p>

<blockquote><p> Web Server Primer
  At its core any web server is simply a never ending loop that attempts to accept connections on a listening socket. Here is a very simple TCP server</p></blockquote>

<pre><code>require 'socket'

# IP address is 0.0.0.0 and it's on port 8080:
server = TCPServer.new("0.0.0.0", 8080) 
loop do
  connection = server.accept
  inputline = connection.gets
  ...
  connection.puts outputline
  connection.close
end
</code></pre>

<blockquote><p> The servers differ in how they construct this loop and how they process incoming connections. The above sample is for a blocking server. Which means that it can only process one request at a time and that other requests will be waiting for the current one to finish. A long running request might make the server unreachable for a while. A group of those will quickly render the server unusable. There are several strategies to overcome this shortcoming. We will discuss those strategies and look at how they are utilized by the different servers.
For a server to be called a web (HTTP) server it must speak the HTTP protocol. Hence it needs a way to parse the incoming HTTP requests. Each of the servers presented here attempts to solve this problem in its own way. But we will soon find that most of them rely on some clone of Mongrel's parser. If we modify our first server to include HTTP support it could like this:</p></blockquote>

<pre><code>require 'socket'
server = TCPServer.new("0.0.0.0", 8080)
loop do
  connection = server.accept
  request = HTTP.parse(connection.gets) # an imaginary HTTP parser
  ...
  connection.puts status
  connection.puts headers
  connection.puts body
  connection.close
end 
</code></pre>

<p>So <code>socket</code> is a library available to Ruby without needing any special downloads (it's part of the standard library, you just need to remind Ruby to <code>require</code> it).  It lets you open and close connections to other machines or servers, just like you did when you were learning how to work with files!</p>

<p>It's actually pretty much the same principle... a web server is just like opening and closing files on your own computer.  The response you're waiting for is just a long string of characters or binary data like it is with a file.  The steps for working with files and servers are almost identical:</p>

<ol>
<li>You need to tell Ruby where to find this "file" (what's the IP address and port we're looking for?)</li>
<li>Open the connection to that file (or the socket to the remote server)</li>
<li>Send your request to start reading the file (or whatever you want from that server</li>
<li>Read the contents of the file (or read the response from the server)</li>
<li>Close the file (or the socket connection to the server)</li>
</ol>


<p>Cool!</p>

<h3>Your Task</h3>

<ol>
<li>Read this <a href="http://www.jmarshall.com/easy/http/#whatis">explanation of how HTTP works</a> down through where it talks about the POST method (about halfway down), if you haven't already.</li>
<li>Read this brief <a href="http://www.tutorialspoint.com/ruby/ruby_socket_programming.htm">tutorial on Ruby socket programming</a> from TutorialsPoint.  Don't worry about the Multi-Client server stuff too much, but keep reading past it.</li>
<li><p>In one file, implement their "A Simple Server".  It's easy to copy/paste code, but make sure you conceptually understand what each line is doing.</p>

<ul>
<li>Ready to get your mind blown?  When you call <code>TCPServer.open</code>, the <code>open</code> class method is the EXACT same method that you use to call <code>File.open</code> because <code>TCPServer</code> inherits (several levels up) from the same <code>IO</code> class that <code>File</code> does! Another way working with servers is like working with files.</li>
<li><code>#accept</code> is just an instance method of the <code>TCPServer</code> class.  It waits around for a connection, and when it gets a connection, it returns the <code>TCPSocket</code> representing that connection (see <a href="http://www.ruby-doc.org/stdlib-1.9.3/libdoc/socket/rdoc/TCPServer.html">the docs</a>).</li>
<li>Now when you <code>puts</code> to that socket, it gets picked up on the other side by your client.  Not magic at all, just a stream of bytes like typing into the <code>STDIN</code> from the command line using <code>gets</code> or to <code>STDOUT</code> using <code>puts</code>.</li>
</ul>
</li>
<li><p>In another file, implement their "A Simple Client".  This should <em>really</em> look a lot like working with files.  <code>localhost</code> just represents the address of your current computer (as opposed to, say <code>http://www.google.com</code>).  Whenever you're building web applications and need to test them locally before deploying, you'll run a local server whose address will be <code>localhost</code> and some port number (often 3000, but that's arbitrary).  So get familiar with it!</p></li>
<li>In one tab of your terminal, run your server.  Press <code>CTRL + c</code> to break from the infinite loop when you want to stop it.</li>
<li>In another tab, run your client.  You should see whatever you told the server to print get <code>puts</code>'d to the command line.  <strong>Congratulations, you just built a server!</strong></li>
<li>Now let's crank it up a little bit.  Build the "A Tiny Web Browser" from the same TutorialsPoint article (the first version) and test it out against some existing webpages.  That's basically just the same thing you built before but pointing at the web instead of your <code>localhost</code>.</li>
<li><p>Create an HTML file and save it as <code>index.html</code>.  It should look like:</p>

<pre><code> &lt;!DOCTYPE html&gt;
 &lt;html&gt;
   &lt;body&gt;
     &lt;h1&gt;Welcome to the Viking Home Page&lt;/h1&gt;
   &lt;/body&gt;
 &lt;/html&gt;
</code></pre></li>
<li><p>Now comes the fun part.  Modify your simple server to take the HTTP request from the browser and, if it is a <code>GET</code> request that points to <code>/index.html</code>, send back the contents of <code>index.html</code>.</p>

<ol>
<li>You'll need to parse the incoming request yourself to determine which verb is being used, which file it wants, and other similar information that's contained in a standard HTTP request.  Again, check <a href="http://www.jmarshall.com/easy/http/#whatis">the examples here</a> for what HTTP requests look like as a reference.</li>
<li>Send your own properly formatted HTTP response, including a status code of <code>200</code> if the file is found, and then the actual contents of the requested file.  Don't forget to include the size (in characters) of the outgoing file (this is a normal part of every HTTP response) to help you display it using your mini-browser.</li>
<li>If it asks for another file that doesn't exist, send back an error code (like <code>404</code>) and an appropriate (or inappropriate) error message.</li>
</ol>
</li>
<li><p>Modify your simple web browser to send the appropriate GET request to your web server, just like you did earlier with the really simple client/server combo.  Test it out... you should be able to ask for and retrieve the <code>index.html</code> file (and <code>puts</code> it into the terminal)!  This will require you to remember some of the commands you used to open files.  You should also set it up to identify when you've got back an error code and display the error message.</p></li>
<li><p>Build another HTML file called <code>thanks.html</code>.  It should look like:</p>

<pre><code> &lt;!DOCTYPE html&gt;
 &lt;html&gt;
   &lt;body&gt;
     &lt;h1&gt;Thanks for Posting!&lt;/h1&gt;
     &lt;h2&gt;Here's what we got from you:&lt;/h2&gt;
     &lt;ul&gt;
       &lt;%= yield %&gt;
     &lt;/ul&gt;
   &lt;/body&gt;
 &lt;/html&gt;
</code></pre></li>
<li><p>Now set up your mini web browser client to also send POST requests.  Where before we were pretending to be browsing the web, now we're going to pretend that we just pushed the "submit" button on a form and need to send the form data to your server.</p>

<ol>
<li>Modify your client to ask the user which type of request the user wants to send.</li>
<li>If the user wants to send a POST request, pretend you're registering a viking for a raid.  Ask the user for a couple of pieces of data about the viking, including a <code>name</code> and an <code>email</code>.</li>
<li>Store the results of this in a hash-inside-a-hash, which might end up looking like  <code>{:viking =&gt; {:name=&gt;"Erik the Red", :email=&gt;"erikthered@theodinproject.com"} }</code>.  Why the hash-in-a-hash?  Because this is exactly what it will look like when your browser sends data back from a Rails-generated form.  You could just use a normal hash, but that would be less fun.</li>
<li>When you send the POST request, this time include your data hash as part of the request (again, see the <a href="http://www.jmarshall.com/easy/http/#postmethod">examples here</a>).  You'll want to use the JSON format to transmit your hash, which means you need to add the <code>require 'json'</code> line at the top of your server and client to use the JSON library.</li>
<li>The method that converts your hash object into a flat JSON string for easy HTTP transmission is <code>#to_json</code>.</li>
<li>You'll also need to include the size of the data you're sending in the <code>Content-Length</code> field of the HTTP packet.</li>
</ol>
</li>
<li><p>Finally, set up your server to recognize and respond to a POST request.</p>

<ol>
<li>If the server detects a POST request, you should identify and parse out the JSON data from it (it will probably be helpful to use the <code>Content-Length</code> line you included to break out the data)</li>
<li>Turn that JSON string back into an object by using <code>JSON.parse</code> and save that in another hash that we'll call <code>params</code> (again because this is what Rails does).  Your code might look like <code>params = {}; params &lt;&lt; JSON.parse(the_post_JSON_string_here)</code>.</li>
<li>Now open the <code>thank_you.html</code> file and (without modifying the original file since you will want to use it multiple times) use your script to replace the line <code>&lt;%= yield %&gt;</code> with a new <code>&lt;li&gt;</code> for each one of the data items that you originally entered in your "form" back in your browser.  Display these in whatever format you'd like, for instance <code>&lt;li&gt;Name: Erik the Red&lt;/li&gt;&lt;li&gt;Email: erikthered@theodinproject.com&lt;/li&gt;</code>.</li>
<li>Now send that modified file back to your mini-browser and show it.</li>
</ol>
</li>
<li><p>Play with your new browser! Try submitting different things into your <code>name</code> and <code>email</code> fields and watch them pop back up in the html that gets sent back.  It's not magic, it's HTTP and Ruby.</p></li>
</ol>


<p>Holy cow! You just built a command line web browser that sends actual HTTP requests and a web server that can actually interpret those requests, load up files, modify those files based on the inputs, and send them back to your browser.  Take a second to pat yourself on the back.</p>

<p>Now think about what you did.  Let it sink in, including some of the steps that seemed a little odd, like using a hash named <code>params</code> and replacing the line in the <code>thank_you.html</code> file called <code>&lt;%= yield %&gt;</code> with some dynamically generated HTML.  Those are the types of things that Rails does.  That's right, you sort of maybe built a little piece of Rails.  Good work.</p>

<h2>Student Solutions</h2>

<p><em>Send us your solution so we can show others! Submit a link to the Github repo with your files in it here using any of the methods listed on the <a href="http://theodinproject.github.io/curriculum/dir/contributing.html">contributing page</a>.  Please include your partner's github handle somewhere in the description if they would like attribution.</em></p>

<ul>
<li>An <a href="http://blogs.msdn.com/b/abhinaba/archive/2005/10/14/474841.aspx">Example solution to a similar but not identical problem</a></li>
<li><em>Your Solution Here!</em></li>
<li></li>
</ul>


<p><em>How long did these projects take you?  <a href="mailto:curriculum@theodinproject.com">Let us know!</a></em></p>

<h2>Additional Resources:</h2>

<ul>
<li><a href="http://www.tuxradar.com/content/code-project-create-web-server-ruby">Tuxradar's Ruby web server project</a></li>
<li></li>
</ul>


              <br>
<hr>
<div id="contribute-notice">
  <p>
    <em>
      This is your curriculum so please make it better! Do you know a better link to high quality content or a better way to explain something?  Would you like to write some exercises or projects to help students learn the material?  How long did this section take you?
    </em>
  </p>
  <p>
    <em>
      Learn <a href="http://theodinproject.github.io/curriculum/dir/contributing.html">how to contribute here</a>.
    </em>
  </p>
</div>
            </section>
          </div>
        </div>
      </div>

          <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <hr>
      <footer class="inner">
        <p>&lt; code happy &gt;</p>
      </footer>
    </div>
    <style>
      footer{
        font-family: courier, monospace;
        text-align: center;
      }
    </style>

    </div>

  </body>

</html>